# 🎧 SongMatch 기획 문서 (v1.0)

## 🔸 서비스 개요

- **서비스명**: SongMatch (명곡 비교 분석기)
- **한 줄 설명**: 두 개의 곡을 입력하면, Spotify/YouTube 등 다양한 지표를 기반으로 어떤 곡이 더 ‘명곡’에 가까운지를 점수화해 비교해주는 웹서비스
- **사용자 타겟**: 음악 마니아, 대중음악 팬, 콘텐츠 제작자, 유튜버, 음악 커뮤니티 이용자
- **제작 툴**: Claude Code (MVP는 반응형 웹페이지)

---

## 🔸 핵심 기능 (MVP 기준)

1. **곡 자동완성 검색**
   - 입력창에 곡명/아티스트 입력 시 실시간 추천 리스트 출력
   - Spotify API 기반 데이터

2. **비교 대상 선택**
   - 두 곡을 각각 선택

3. **비교 결과 출력**
   - 총점 기준으로 더 높은 곡 추천
   - 지표별 점수 시각화 제공 (막대그래프 또는 수치 비교)
   - 요약 문장 출력: “Bohemian Rhapsody가 더 명곡입니다 (87점 vs 79점)”

---

## 🔸 점수 산정 체계 (100점 만점)

### ✅ 총점 구성

| 항목 | 세부 지표 | 배점 |
|------|-----------|------|
| 1. Spotify 스트리밍 수 | 누적 재생 수 기반 | 25점 |
| 2. YouTube 조회수 | MV 공식 영상 조회수 | 25점 |
| 3. 아티스트 영향력 | 그래미 수상 여부, 팔로워 등 | 20점 |
| 4. 차트 성적 | Billboard Hot100 기록 등 | 20점 |
| 5. 비평가 평점 | Metacritic, Pitchfork 등 | 10점 |

> ✅ MVP에서는 1~3번 위주로 먼저 구현

---

### 🎧 1. Spotify 누적 스트리밍 수 (25점)

- 1억 미만: 5점  
- 1억~3억: 10점  
- 3억~10억: 15점  
- 10억~20억: 20점  
- 20억 이상: 25점  

🔗 API: `GET /v1/search` → `GET /v1/tracks/{id}`  
🔐 인증: OAuth 2.0 (Client Credentials Flow)

---

### 📺 2. YouTube 조회수 (25점)

- 1천만 미만: 5점  
- 1천만~5천만: 10점  
- 5천만~2억: 15점  
- 2억~10억: 20점  
- 10억 이상: 25점  

🔗 API: `GET /youtube/v3/videos?part=statistics&id=VIDEO_ID`  
🔐 인증: API Key (간단)

---

### 🏆 3. 아티스트 영향력 (20점)

- 그래미 수상: 10점  
- 그래미 후보: 5점  
- Spotify 팔로워 1천만 이상: 5점  
- Last.fm 청취자 수 상위 1%: 5점  

🔗 데이터 출처: Wikipedia (요약 크롤링), Genius API, Last.fm API

---

### 📈 4. Billboard 차트 기록 (20점) ※ 추후 도입

- 1~10위 진입: 20점  
- 11~50위: 15점  
- 51~100위: 10점  
- 진입 없음: 0점  

🔗 현재 공식 API 없음 → 크롤링 또는 수동 DB 필요 (후순위)

---

### 📝 5. 비평가 평점 (10점) ※ 선택 도입

- Metacritic 점수 기준  
- Pitchfork, NME 등도 활용 가능  

🔗 API 없음 → 수동 구축 또는 Claude 요약

---

## 🔸 API 우선순위 정리

| API 출처 | 인증 방식 | 활용도 | 도입 추천 |
|----------|------------|---------|-------------|
| ✅ Spotify API | OAuth2 | 매우 높음 | 🔵 우선 사용 |
| ✅ YouTube Data API | API Key | 매우 높음 | 🔵 우선 사용 |
| ⭕ Genius API | API Key | 중간 | 🔵 후보 사용 |
| ⭕ Last.fm API | API Key | 중간 | 🔵 후보 사용 |
| ❌ Billboard | 없음 | 낮음 | 🔴 추후 고려 |
| ❌ Metacritic | 없음 | 낮음 | 🔴 추후 고려 |

---

## 🔸 화면 구성 개요

### 1. 홈 페이지
- "곡 1" 검색창 (자동완성)
- "곡 2" 검색창 (자동완성)
- "비교하기" 버튼

### 2. 결과 페이지
- 🎖️ 승자 텍스트 (요약 코멘트)
- 📊 지표별 점수 그래프
- 🧾 총점 비교
- 🔗 공유 버튼

---

## 🔸 향후 확장 아이디어

- 사용자 로그인 → 커뮤니티 기반 투표/랭킹 기능  
- 곡 3개 이상 비교 모드  
- AI 추천 명곡 매칭 ("이 곡 좋아한다면 이것도 들어보세요")  
- 명곡 퀴즈, 커뮤니티 기능, 추천 알고리즘 추가

---

## 🔸 Claude Code 구현 팁

- ✅ 자동완성 → Spotify 검색 API 결과를 캐싱하여 처리
- ✅ 점수 산정 함수 → `calculateSongScore(trackData, artistData)`
- ✅ 각 API는 token 갱신과 캐싱 전략 필요
- ✅ 모바일 반응형 고려: TailwindCSS or CSS Grid 추천

---

